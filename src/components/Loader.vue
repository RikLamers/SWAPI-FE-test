<template>
  <div class="c-loader">
    <svg id="driod" height="100px" x="0px" y="0px" viewBox="0 0 374.7 512">
      <g ref="droidBody" id="driod-body">
        <circle class="st0" cx="256" cy="320" r="45.6"/>
        <path class="st0" d="M133.7,320c0-22.9-17-41.9-39-45.1c-4.9,15.7-7.5,32.5-7.5,49.8c0,14,1.7,27.7,5,40.7 C115.4,363.3,133.7,343.7,133.7,320z"/>
        <path class="st0" d="M264.5,211.5v49.1c26.3,3.7,47.1,24.6,50.9,50.9h49c3.6-25.3,23.1-45.6,48-50.4c-17.9-43.8-53.6-78.4-98-94.8 C308.6,189.8,288.9,208,264.5,211.5z"/>
        <path class="st0" d="M378.2,320c0,23.8,18.3,43.4,41.6,45.4c3.2-13,5-26.7,5-40.7c0-17.3-2.6-34-7.5-49.8 C395.2,278,378.2,297.1,378.2,320z"/>
        <path class="st0" d="M147.5,311.5h49.1c3.7-26.3,24.6-47.1,50.9-50.9v-49.1c-24.4-3.5-44.1-21.6-49.8-45.2 c-44.5,16.4-80.2,51.1-98.1,94.9C124.5,266,143.9,286.2,147.5,311.5z"/>
        <path class="st0" d="M256,197.7c21.8,0,40-15.4,44.5-35.8c-14.2-3.9-29.1-6-44.5-6s-30.3,2.1-44.5,6 C216,182.3,234.2,197.7,256,197.7z"/>
        <path class="st0" d="M364.4,328.5h-49c-3.7,26.3-24.6,47.1-50.9,50.9v49.1c27.3,3.9,48.8,26.3,51.2,54 c46.7-17.7,83.6-55.7,99.9-103.1C389.2,375.8,368.1,354.9,364.4,328.5z"/>
        <path class="st0" d="M256,442.3c-24.9,0-45.2,20.1-45.6,44.9c14.5,4.1,29.8,6.3,45.6,6.3s31.1-2.2,45.6-6.3 C301.2,462.4,280.9,442.3,256,442.3z"/>
        <path class="st0" d="M247.5,428.5v-49.1c-26.3-3.7-47.1-24.6-50.9-50.9h-49.1c-3.8,26.4-24.7,47.3-51.2,50.9 c16.3,47.4,53.2,85.4,99.9,103.1C198.7,454.8,220.2,432.4,247.5,428.5z"/>
        <path d="M310.6,311.5h4.8c-3.7-26.3-24.6-47.1-50.9-50.9v4.3h-17v-4.3c-26.3,3.7-47.1,24.6-50.9,50.9h3.5v17h-3.5 c3.7,26.3,24.6,47.1,50.9,50.9v-6h17v6c26.3-3.7,47.1-24.6,50.9-50.9h-4.8V311.5z M256,365.6c-25.1,0-45.6-20.4-45.6-45.6 s20.4-45.6,45.6-45.6s45.6,20.4,45.6,45.6S281.1,365.6,256,365.6z"/>
        <path d="M301.6,487.2c-14.5,4.1-29.8,6.3-45.6,6.3s-31.1-2.2-45.6-6.3c0,0.2,0,0.4,0,0.7c0,7,1.6,13.6,4.4,19.6 c13.2,3,27,4.6,41.2,4.6s27.9-1.6,41.2-4.6c2.8-5.9,4.4-12.6,4.4-19.6C301.6,487.7,301.6,487.4,301.6,487.2z"/>
        <path d="M92.2,365.4c-3.2-13-5-26.7-5-40.7c0-17.3,2.6-34,7.5-49.8c-2.2-0.3-4.4-0.5-6.6-0.5c-4.6,0-9,0.7-13.1,1.9 c-4.1,15.4-6.3,31.6-6.3,48.3c0,13.1,1.4,25.8,3.9,38.2c4.8,1.8,10.1,2.7,15.5,2.7C89.5,365.6,90.8,365.5,92.2,365.4z"/>
        <path d="M314.3,166.3c44.5,16.4,80.2,51.1,98,94.8c3.7-0.7,7.5-1.1,11.4-1.1c2.8,0,5.6,0.2,8.3,0.6 c-19.5-53.3-62.4-95.3-116.3-113.5c0.1,1.6,0.2,3.3,0.2,5C316,157,315.4,161.7,314.3,166.3z"/>
        <path d="M437,276.4c-4.2-1.3-8.6-2-13.2-2c-2.2,0-4.4,0.2-6.5,0.5c4.9,15.7,7.5,32.5,7.5,49.8c0,14-1.7,27.7-5,40.7 c1.3,0.1,2.6,0.2,4,0.2c5.5,0,10.8-1,15.7-2.8c2.6-12.3,3.9-25.1,3.9-38.1C443.3,308,441.1,291.8,437,276.4z"/>
        <path d="M211.5,161.8c14.2-3.9,29.1-6,44.5-6s30.3,2.1,44.5,6c0.7-3.1,1.1-6.4,1.1-9.8c0-3.2-0.3-6.4-1-9.4 c-14.3-3.5-29.2-5.4-44.6-5.4s-30.3,1.9-44.6,5.4c-0.6,3-1,6.2-1,9.4C210.4,155.4,210.8,158.7,211.5,161.8z"/>
        <path d="M99.6,261.1c17.9-43.8,53.6-78.4,98.1-94.9c-1.1-4.5-1.7-9.3-1.7-14.2c0-1.7,0.1-3.3,0.2-5 C142.4,165.3,99.4,207.3,80,260.6c2.7-0.4,5.4-0.6,8.1-0.6C92.1,260,95.9,260.4,99.6,261.1z"/>
        <path d="M196.3,482.5c-46.7-17.8-83.6-55.7-99.9-103.1c-2.7,0.4-5.4,0.6-8.2,0.6c-3.9,0-7.7-0.4-11.4-1.1 c17.7,58.5,63.3,104.9,121.2,123.9c-1.2-4.8-1.9-9.7-1.9-14.9C196,486.1,196.1,484.3,196.3,482.5z"/>
        <path d="M415.7,379.4c-16.3,47.4-53.2,85.3-99.9,103.1c0.2,1.8,0.3,3.6,0.3,5.4c0,5.1-0.7,10.1-1.9,14.9 c57.9-19,103.5-65.4,121.2-123.9c-3.7,0.7-7.6,1.1-11.6,1.1C421,380,418.3,379.8,415.7,379.4z"/>
        <path d="M147.5,328.5H143v-17h4.5c-3.6-25.3-23-45.5-47.9-50.4c-1.8,4.5-3.5,9.1-4.9,13.8c22,3.2,39,22.2,39,45.1 c0,23.8-18.3,43.3-41.5,45.4c1.2,4.8,2.6,9.5,4.1,14C122.8,375.8,143.7,354.9,147.5,328.5z"/>
        <path d="M96.3,379.4c-1.6-4.6-3-9.3-4.1-14c-1.3,0.1-2.7,0.2-4.1,0.2c-5.5,0-10.7-1-15.5-2.7c1.1,5.4,2.5,10.8,4.1,16.1 c3.7,0.7,7.5,1.1,11.4,1.1C90.9,380,93.6,379.8,96.3,379.4z"/>
        <path d="M94.7,274.9c1.4-4.7,3.1-9.3,4.9-13.8c-3.7-0.7-7.6-1.1-11.5-1.1c-2.8,0-5.5,0.2-8.1,0.6c-1.9,5.2-3.5,10.4-5,15.8 c4.2-1.3,8.6-1.9,13.1-1.9C90.3,274.4,92.5,274.6,94.7,274.9z"/>
        <path d="M247.5,211.5V209h17v2.5c24.4-3.5,44.1-21.6,49.8-45.2c-4.5-1.7-9.1-3.1-13.8-4.4c-4.5,20.5-22.7,35.8-44.5,35.8 s-40-15.4-44.5-35.8c-4.7,1.3-9.3,2.7-13.8,4.4C203.4,189.8,223.1,208,247.5,211.5z"/>
        <path d="M300.5,161.8c4.7,1.3,9.3,2.7,13.8,4.4c1.1-4.5,1.7-9.3,1.7-14.2c0-1.7-0.1-3.3-0.2-5c-5-1.7-10-3.1-15.2-4.4 c0.6,3,1,6.2,1,9.4C301.6,155.4,301.2,158.7,300.5,161.8z"/>
        <path d="M197.7,166.3c4.5-1.7,9.1-3.1,13.8-4.4c-0.7-3.1-1.1-6.4-1.1-9.8c0-3.2,0.3-6.4,1-9.4c-5.1,1.3-10.2,2.7-15.2,4.4 c-0.1,1.6-0.2,3.3-0.2,5C196,157,196.6,161.7,197.7,166.3z"/>
        <path d="M364.4,311.5h4.9v17h-4.9c3.8,26.4,24.8,47.3,51.3,50.9c1.6-4.6,3-9.3,4.1-14.1c-23.3-2-41.6-21.6-41.6-45.4 c0-22.9,17-41.9,39.1-45.1c-1.5-4.7-3.1-9.3-4.9-13.8C387.4,265.9,368,286.2,364.4,311.5z"/>
        <path d="M412.3,261.1c1.8,4.5,3.5,9.1,4.9,13.8c2.1-0.3,4.3-0.5,6.5-0.5c4.6,0,9.1,0.7,13.2,2c-1.4-5.4-3.1-10.6-5-15.8 c-2.7-0.4-5.5-0.6-8.3-0.6C419.9,260,416,260.4,412.3,261.1z"/>
        <path d="M419.8,365.4c-1.2,4.8-2.6,9.5-4.1,14.1c2.7,0.4,5.4,0.6,8.1,0.6c4,0,7.8-0.4,11.6-1.1c1.6-5.3,3-10.6,4.1-16.1 c-4.9,1.8-10.2,2.8-15.7,2.8C422.4,365.6,421.1,365.5,419.8,365.4z"/>
        <path d="M264.5,428.5v4.5h-17v-4.5c-27.3,3.9-48.8,26.3-51.2,54c4.6,1.8,9.4,3.3,14.2,4.7c0.4-24.8,20.7-44.9,45.6-44.9 s45.2,20.1,45.6,44.9c4.8-1.4,9.6-2.9,14.2-4.7C313.3,454.8,291.8,432.4,264.5,428.5z"/>
        <path d="M315.7,482.5c-4.6,1.8-9.4,3.3-14.2,4.7c0,0.2,0,0.4,0,0.7c0,7-1.6,13.6-4.4,19.6c5.8-1.3,11.4-2.9,17-4.7 c1.2-4.8,1.9-9.7,1.9-14.9C316,486.1,315.9,484.3,315.7,482.5z"/>
        <path d="M210.4,487.2c-4.8-1.4-9.6-2.9-14.2-4.7c-0.2,1.8-0.3,3.6-0.3,5.4c0,5.1,0.7,10.1,1.9,14.9c5.6,1.8,11.2,3.4,17,4.7 c-2.8-5.9-4.4-12.6-4.4-19.6C210.4,487.7,210.4,487.4,210.4,487.2z"/>
        <polygon points="247.5,373.4 247.5,379.4 247.5,428.5 247.5,433 264.5,433 264.5,428.5 264.5,379.4 264.5,373.4"/>
        <polygon points="264.5,264.9 264.5,260.6 264.5,211.5 264.5,209 247.5,209 247.5,211.5 247.5,260.6 247.5,264.9"/>
        <polygon points="310.6,311.5 310.6,328.5 315.4,328.5 364.4,328.5 369.3,328.5 369.3,311.5 364.4,311.5 315.4,311.5"/>
        <polygon points="200.2,311.5 196.6,311.5 147.5,311.5 143,311.5 143,328.5 147.5,328.5 196.6,328.5 200.2,328.5"/>
      </g>
      <g ref="droidHead" id="driod-head">
        <path class="st1" d="M259.5,9.1c-72.7,0-112.8,36.2-117.7,104.5c-0.6,7.9,5.5,14.7,13.4,15.1l68.8,3.7c24.1,1.3,48.3,1.3,72.5,0 l66.3-3.7c7.9-0.4,13.9-7.3,13.3-15.2C371.4,45.3,332.2,9.1,259.5,9.1z"/>
        <circle cx="288" cy="96" r="10.1"/>
        <circle cx="256" cy="64" r="21.3"/>
        <g>
            <path d="M164.6,57.3h-13.1V8.5c0-4.7,3.8-8.5,8.5-8.5h0c4.7,0,8.5,3.8,8.5,8.5v44.9C168.5,55.6,166.8,57.3,164.6,57.3z"/>
        </g>
      </g>
    </svg>

    <p ref="loadingText">Loading</p>

  </div>
</template>

<script>
import { gsap } from 'gsap'

export default {
  name: 'loader',
  mounted () {
    const tlBody = gsap.timeline({ repeat: -1 })
    const tlHead = gsap.timeline({ repeat: -1 })
    const tlText = gsap.timeline({ repeat: -1 })

    tlBody
      .to(this.$refs.droidBody, {
        duration: 1,
        rotate: 120,
        x: '300px',
        transformOrigin: '50% 50%'
      })
      .to(this.$refs.droidBody, {
        duration: 1,
        rotate: 0,
        x: '0px'
      }, '-=.1')
      .to(this.$refs.droidBody, {
        duration: 1,
        rotate: -120,
        x: '-300px',
        transformOrigin: '50% 50%'
      }, '-=.1')
      .to(this.$refs.droidBody, {
        duration: 1,
        rotate: 0,
        x: '0px'
      }, '-=.1')

    tlHead.to(this.$refs.droidHead, {
      duration: 1,
      rotate: -55,
      x: '85px',
      y: '110px',
      transformOrigin: '50% 50%'
    })
    tlHead.to(this.$refs.droidHead, {
      duration: 1,
      rotate: 0,
      x: 0,
      y: 0
    }, '-=.1')
    tlHead.to(this.$refs.droidHead, {
      duration: 1,
      rotate: 55,
      x: '-85px',
      y: '110px'
    }, '-=.1')
    tlHead.to(this.$refs.droidHead, {
      duration: 1,
      rotate: 0,
      x: 0,
      y: 0
    }, '-=.1')

    tlText
      .to(this.$refs.loadingText, 1, {
        autoAlpha: 0,
        repeat: -1,
        yoyo: true
      })
  }
}
</script>

<style>
.st0{fill:none;}
.st1{fill:none;stroke:#000000;stroke-width:17;stroke-miterlimit:10;}
</style>
